# Схема базы данных
![](https://github.com/Marina200426/PIS-Belonogov-Chelokhsaeva/blob/main/Схема%20базы%20данных/Схема.png)


## 1. Таблица users
Хранит данные всех пользователей системы: граждан, госслужащих и администраторов. Используется для аутентификации и управления ролями.
Атрибуты:

- id — идентификатор пользователя (primary key).

- full_name — полное имя пользователя (не может быть пустым).

- email — адрес электронной почты (уникальный, не может быть пустым).

- password — пароль пользователя (не может быть пустым).

- role — роль пользователя (одно из значений: 'гражданин', 'госслужащий', 'администратор').

### Связи:

- characteristics.user_id → users.id

- services.responsible_id → users.id (только если пользователь — госслужащий)

- requests.user_id → users.id (если пользователь — гражданин)


## 2. Таблица characteristic_types
Хранит справочник возможных видов характеристик пользователей.
### Атрибуты:

- id — идентификатор типа характеристики (primary key).

- name — название характеристики (например, "Гражданство").

- value_type — тип значения (например, 'string', 'date', 'boolean').

### Связи:

- characteristics.type_id → characteristic_types.id

- rules.characteristic_type_id → characteristic_types.id

## 3. Таблица characteristics
Хранит значения характеристик конкретных пользователей.
### Атрибуты:

- id — идентификатор характеристики (primary key).

- user_id — ссылка на пользователя (users.id).

- type_id — ссылка на тип характеристики (characteristic_types.id).

- value — значение характеристики в текстовом формате.

### Связи:

- user_id → users.id (ON DELETE CASCADE)

- type_id → characteristic_types.id

## 4. Таблица services
Содержит информацию о доступных государственных услугах.
### Атрибуты:

- id — идентификатор услуги (primary key).

- name — название услуги.

- requirements — текстовое описание требований для получения услуги.

- date_activated — дата начала действия услуги.

- date_deactivated — дата окончания действия услуги (может быть NULL).

- responsible_id — ссылка на пользователя-госслужащего, ответственного за услугу.

### Связи:

- responsible_id → users.id

- requests.service_id → services.id

- rules.service_id → services.id

## 5. Таблица requests
Содержит заявки пользователей (граждан) на получение услуг.
### Атрибуты:

- id — идентификатор заявки (primary key).

- user_id — ссылка на пользователя-гражданина (users.id).

- service_id — ссылка на услугу (services.id).

- date_submitted — дата и время подачи заявки (по умолчанию — текущее время).

- planned_date — планируемая дата получения услуги.

- status — текущий статус заявки: 'Рассматривается', 'Выполнено', 'Отменено'.

- result — текстовое описание результата оказания услуги.

### Связи:

- user_id → users.id (ON DELETE CASCADE)

- service_id → services.id

## 6. Таблица rules
Определяет условия (правила) получения услуг на основе характеристик пользователей.
### Атрибуты:

- id — идентификатор правила (primary key).

- service_id — ссылка на услугу (services.id), для которой применяется правило.

- characteristic_type_id — ссылка на тип характеристики (characteristic_types.id).

- name — имя правила (например, "Гражданство").

- value — значение, с которым должна совпадать характеристика.

- deadline — интервал времени, в течение которого необходимо выполнить действие.

- operator — логический оператор для объединения с другими правилами ('AND' или 'OR').

### Связи:

service_id → services.id (ON DELETE CASCADE)

characteristic_type_id → characteristic_types.id